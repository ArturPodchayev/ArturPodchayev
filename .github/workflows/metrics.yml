name: Metrics
on:
  schedule: 
    - cron: "0 0 * * *" # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC
  workflow_dispatch: # –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

permissions: write-all  # –î–ê–Å–ú –ü–†–ê–í–ê –ù–ê –ó–ê–ü–ò–°–¨

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Generate GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          filename: github-metrics.svg
          token: ${{ secrets.METRICS_TOKEN }}
          base: header, repositories, metadata
          
          # üî• –¢–û–ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
          plugin_repositories: yes
          plugin_repositories_featured: your-repo-name, another-repo

          # üìä –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —è–∑—ã–∫–∏
          plugin_languages: yes
          plugin_languages_details: percentage, lines
          plugin_languages_threshold: 0%

          # üèÜ GitHub Achievements (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: C
          
          # üî• –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
          plugin_activity: yes
          plugin_activity_limit: 5
          plugin_activity_days: 14

          # üöÄ –°–∞–º—ã–µ –∑–≤—ë–∑–¥–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
          plugin_stars: yes
          plugin_stars_limit: 3

          # üéµ Spotify (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –º—É–∑—ã–∫—É)
          plugin_music: yes
          plugin_music_provider: spotify
          plugin_music_mode: recent
          plugin_music_limit: 5
