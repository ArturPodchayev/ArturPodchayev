name: Metrics
on:
  schedule: 
    - cron: "0 0 * * *" # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC
  workflow_dispatch: # –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

permissions: write-all  # –î–ê–Å–ú –ü–†–ê–í–ê –ù–ê –ó–ê–ü–ò–°–¨

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Generate GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          filename: github-metrics.svg
          token: ${{ secrets.METRICS_TOKEN_NEW1 }}
          base: header, repositories, metadata
          
          # üéµ –ü–æ–¥–∫–ª—é—á–∞–µ–º Spotify
          plugin_music: yes
          plugin_music_provider: spotify
          plugin_music_mode: playlist # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–µ–π–ª–∏—Å—Ç
          plugin_music_limit: 5 # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–∫–æ–≤
          plugin_music_playlist_id: 1FulyKG2feuNE0bHGm9Al4 # <-- ID —Ç–≤–æ–µ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞

          # –ü–µ—Ä–µ–¥–∞–µ–º —Ç–æ–∫–µ–Ω –æ—Ç Spotify
          plugin_music_token: ${{ secrets.SPOTIFY_ACCESS_TOKEN }}
